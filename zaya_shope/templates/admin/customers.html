{% extends "admin/base2.html" %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-lg border-0">
        <div class="card-body">
            <div class="categhead d-flex justify-content-between align-items-center mb-4">
                <h3 class="fw-bold mb-0">Customers List</h3>
            </div>

            <div class="table-responsive">
                <table class="table my-custom-table table-hover align-middle mb-0" style="border-radius: 10px;">
                    <thead class="custom-thead" style="background-color: #04372c!important;" id="categhead">
                        <tr class="text-center text-dark fw-bold">
                            <th scope="col" style="width: 60px;">No</th>
                            <th scope="col">Staff Name</th>
                            <th scope="col">Email</th>
                            <th scope="col">Phone</th>
                            {% if user.is_superuser %}
                              <th scope="col">Status</th>
                              <th colspan="2">Actions</th>
                            {% endif %}
                        </tr>
                    </thead>

                    {% for customer in customers %}
                    <tr class="text-center">
                        <th scope="row">{{ forloop.counter }}</th>
                        <td class="fw-medium">{{ customer.username }}</td>
                        <td class="fw-medium">{{ customer.email }}</td>
                        <td class="fw-medium">{{ customer.phone }}</td>

                        {% if user.is_superuser %}
                        <td>
                            <a href="{% url 'customer_status' customer.id %}" class="text-decoration-none">
                                {% if customer.is_active %}
                                    <button class="btn btn-outline-danger btn-sm">Block</button>
                                {% else %}
                                    <button class="btn btn-outline-success btn-sm">Activate</button>
                                {% endif %}
                            </a>
                        </td>

                        <td class="fw-medium">
                            <a href="{% url 'customer_edit' customer.id %}" class="text-decoration-none">
                                <button class="edit-btn">‚úèÔ∏è Edit</button>
                            </a>

                            <a href="" class="delete-btn btn-sm" onclick="return confirm('Are you sure to delete?')">
                                üóëÔ∏è Delete
                            </a>
                        </td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                </table>
            </div>

        </div>
    </div>
</div>
{% endblock %}
